// Rolster Technology Datatable Component
// v2.0.2
// @license MIT
// Author: Rolster Developers
// Created: 20/Mar/2018
// Updated: 13/Jun/2024

@mixin datatable_cell_control() {
  --rlc-avatar-border-radius: var(--rls-sizing-x3);
  --rlc-avatar-width: var(--rls-sizing-x16);
  --rlc-avatar-height: var(--rls-sizing-x16);
  --rlc-avatar-font-size: var(--rlc-datatable-font-size);

  --rlc-action-ripple-dimension: var(--rls-sizing-x16);
  --rlc-action-ripple-position: -8rem;

  --rlc-switch-element-size: var(--rls-sizing-x10);
  --rlc-switch-bar-radius: var(--rls-sizing-x2);
  --rlc-switch-bar-height: var(--rls-sizing-x4);

  display: flex;
  width: var(--rls-sizing-x24);
  padding: 0rem;

  & > * {
    margin: auto;
  }
}

.rls-datatable {
  --pvt-header-padding-right: var(--rlc-datatable-padding-scroll);

  --rlc-input-font-size: var(--rlc-datatable-font-size);
  --rlc-input-letter-spacing: var(--rlc-datatable-letter-spacing);

  position: relative;
  display: flex;
  width: 100%;
  flex-direction: column;
  row-gap: var(--rls-sizing-x6);
  border-radius: var(--rls-sizing-x4);
  box-sizing: border-box;

  &--scrolleable {
    --rlc-datatable-padding-scroll: var(--rls-sizing-x4);

    --pvt-header-padding-right: calc(
      var(--rlc-datatable-padding-scroll) + var(--rlc-datatable-width-scroll)
    );
  }

  & > table {
    display: flex;
    flex-direction: column;
    row-gap: var(--rls-sizing-x4);
    border-spacing: 0;
    border-collapse: collapse;
  }

  &__thead {
    width: 100%;
    padding-left: var(--rlc-datatable-padding-scroll);
    padding-right: var(--pvt-header-padding-right);
    box-sizing: border-box;
  }

  &__header {
    display: flex;
    column-gap: var(--rls-sizing-x4);
    padding: 0rem var(--rls-sizing-x6);
    box-sizing: border-box;
    background: var(--rlc-datatable-header-background);
    border: var(--rls-app-border-1-100);
    border-radius: var(--rls-sizing-x4);
  }

  &__title {
    position: relative;
    display: flex;
    text-align: left;
    overflow: hidden;
    white-space: nowrap;
    height: var(--rls-sizing-x20);
    line-height: var(--rls-sizing-x20);
    color: var(--rls-app-color-500);
    font-size: var(--rlc-datatable-font-size);
    letter-spacing: var(--rlc-datatable-letter-spacing);
    font-weight: var(--rls-font-weight-bold);

    &--control {
      @include datatable_cell_control();
    }

    & > span {
      width: 100%;
      text-overflow: ellipsis;
      overflow: hidden;
    }

    & > .rls-icon {
      margin: auto;
    }
  }

  &__tbody {
    display: flex;
    flex-direction: column;
    row-gap: var(--rls-sizing-x6);
    padding: 0rem var(--rlc-datatable-padding-scroll);
    box-sizing: border-box;
  }

  &__tsummary {
    padding-left: var(--rlc-datatable-padding-scroll);
    padding-right: var(--pvt-header-padding-right);
    box-sizing: border-box;
  }

  &__data,
  &__totals {
    position: relative;
    display: flex;
    column-gap: var(--rls-sizing-x4);
    padding: 0rem var(--rls-sizing-x6);
    box-sizing: border-box;
    border: var(--rls-app-border-1-100);
    border-radius: var(--rls-sizing-x4);
    background: var(--rlc-datatable-row-background);

    &--error {
      background: var(--rls-danger-color-100);
      border: var(--rls-border-1-danger-300);
    }
  }

  &__cell,
  &__info {
    position: relative;
    display: flex;
    height: var(--rls-sizing-x20);
    line-height: var(--rls-sizing-x20);
    text-align: left;
    cursor: default;
    overflow: hidden;
    white-space: nowrap;
    color: var(--rlc-input-font-color);
    font-size: var(--rlc-datatable-font-size);
    letter-spacing: var(--rlc-datatable-letter-spacing);
    font-weight: var(--rls-font-weight-regular);

    &--overflow {
      overflow: initial;
    }

    &--control {
      @include datatable_cell_control();
    }

    & > span {
      width: 100%;
      text-overflow: ellipsis;
      overflow: hidden;
    }

    .rls-field-box {
      width: 100%;
      padding: 0rem;

      &__label {
        display: none;
      }

      &__body {
        background: transparent;
        border: none;
        padding: 0rem;
        box-shadow: none;
      }

      &__icon {
        padding: 0rem;
      }

      &__error {
        display: none;
      }

      .rls-input-number,
      .rls-input-text {
        --rlc-input-parent-padding: 0rem;
      }
    }

    .rls-field-list {
      .rls-field-box__body {
        padding: var(--rls-sizing-x4) 0rem;
        border: none;
        box-shadow: none;
      }

      &__control {
        font-size: var(--rlc-datatable-font-size);
        font-weight: var(--rls-font-weight-medium);
        letter-spacing: var(--rls-body-letter-spacing);
      }

      &__suggestions {
        top: var(--rls-sizing-x24);

        &--higher {
          top: initial;
          bottom: var(--rls-sizing-x24);
        }
      }

      &__action {
        .rls-icon {
          font-size: var(--rls-sizing-x10);
        }
      }
    }

    .rls-input {
      margin: var(--rls-sizing-x4) 0rem;
    }

    .rls-amount {
      font-size: var(--rlc-datatable-font-size);
      width: 100%;
    }

    .rls-poster {
      display: flex;
      width: calc(100% - var(--rls-sizing-x2));
      height: 100%;
      margin: var(--rls-sizing-x3) var(--rls-sizing-x2);
      justify-content: center;
      align-items: center;
      overflow: hidden;
      height: var(--rls-sizing-x14);
      line-height: var(--rls-sizing-x14);
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      background: var(--rls-theme-color-100);
      color: var(--rls-theme-color-500);
    }

    & > .rls-ballot {
      padding: 0rem;
      height: var(--rls-sizing-x20);

      .rls-ballot__title {
        font-weight: var(--rls-font-weight-semibold);
        font-size: var(--rls-smalltext-font-size);
        letter-spacing: var(--rls-smalltext-letter-spacing);
        min-height: var(--rls-sizing-x8);
        line-height: var(--rls-sizing-x8);
      }

      .rls-ballot__subtitle {
        margin-top: 0rem;
        font-size: var(--rls-overline-font-size);
        letter-spacing: var(--rls-overline-letter-spacing);
        min-height: var(--rls-sizing-x8);
        line-height: var(--rls-sizing-x8);
      }
    }

    & > a {
      &:hover {
        color: var(--rls-app-color-700);
        text-decoration: underline;
      }
    }
  }

  &__tfooter {
    position: relative;
    width: 100%;
    overflow: hidden;
    background: var(--rls-app-color-100);
    border-radius: 0rem 0rem var(--rls-sizing-x4) var(--rls-sizing-x4);
  }
}
